"use strict";(self.webpackChunkmintuPlasticV2=self.webpackChunkmintuPlasticV2||[]).push([[522],{4522:(we,y,l)=>{l.r(y),l.d(y,{DashboardModule:()=>Pe});var f=l(6814),F=l(7325),g=l(4248),e=l(6689),Y=l(8039),c=l(707),D=l(8608),k=l(4104),U=l(7327);function J(i,d){if(1&i&&(e.TgZ(0,"li")(1,"a",21),e._UZ(2,"span"),e.TgZ(3,"span",22),e._uU(4),e.qZA()()()),2&i){const t=d.$implicit;e.xp6(1),e.Q6J("routerLink",t.path),e.xp6(1),e.Tol(t.iconClass),e.xp6(2),e.Oqu(t.label)}}const R=function(i){return{hidden:i}},O=function(){return{"background-color":"#4caf4f",color:"#ffffff"}},B=function(){return[]};let L=(()=>{class i{constructor(){this.title="mintuPlasticV2",this.showLeftSideNav=!1,this.routes=[{label:"Home",path:"home",iconClass:"pi pi-home mr-2 text-700"},{label:"Orders",path:"orders",iconClass:"pi pi-shopping-cart mr-2 text-700"},{label:"Suppliers",path:"suppliers",iconClass:"pi pi-users mr-2 text-700"},{label:"Products",path:"products",iconClass:"pi pi-star mr-2 text-700"},{label:"Customers",path:"customers",iconClass:"pi pi-users mr-2 text-700"}]}toggleLeftSide(t){this.showLeftSideNav=!this.showLeftSideNav}static#e=this.\u0275fac=function(r){return new(r||i)};static#t=this.\u0275cmp=e.Xpm({type:i,selectors:[["app-dashboard"]],decls:27,vars:13,consts:[[1,"min-h-screen","flex","relative","lg:static","surface-ground"],[1,"app-left-side","surface-section","left-side","h-fullX","h-screen","lg:h-autoX","lg:block","flex-shrink-0","sticky","lg:staticX","left-0","top-0","z-1","border-right-1","surface-border","select-noneX",2,"width","200px",3,"ngClass"],[1,"flex","flex-column","h-full"],[1,"flex","align-items-center","px-5","flex-shrink-0",2,"height","60px"],[1,"overflow-y-auto"],[1,"list-none","px-3","m-0"],[4,"ngFor","ngForOf"],[1,"mt-auto"],[1,"mx-3","border-top-1","border-none","surface-border"],[1,"p-ripple","p-element","flex","align-items-center","cursor-pointer","p-3","border-round","text-700","hover:surface-100","transition-duration-150","transition-colors"],["label","HK"],[1,"min-h-screen","flex","flex-column","relative","flex-auto","border-1X","app-main-side"],[1,"gap-3","flex","py-4","justify-content-between","align-items-center","px-5","surface-0","border-bottom-1","surface-border","sticky","top-0","z-1"],[1,"flex-shrink-0","flex-none","lg:hidden"],["icon","pi pi-bars",3,"outlined","click"],[1,"search-section","flex-grow-1"],["styleClass","w-full","inputStyleClass","w-full","placeholder","Search",3,"suggestions"],[1,"flex-none"],["label","HK","pBadge","","value","4"],[1,"flex","flex-column","flex-auto"],[1,"p-5"],[1,"flex","align-items-center","cursor-pointer","p-3","hover:surface-100","border-round","nav-link",3,"routerLink"],[1,"font-medium","text-700"]],template:function(r,o){1&r&&(e._UZ(0,"p-toast"),e.TgZ(1,"div",0)(2,"div",1)(3,"div",2)(4,"div",3)(5,"h3"),e._uU(6,"Mintu Plastic"),e.qZA()(),e.TgZ(7,"div",4)(8,"ul",5),e.YNc(9,J,5,4,"li",6),e.qZA()(),e.TgZ(10,"div",7),e._UZ(11,"hr",8),e.TgZ(12,"a",9)(13,"span"),e._UZ(14,"p-avatar",10),e._uU(15," Hitesh Kumar"),e.qZA()()()()(),e.TgZ(16,"div",11)(17,"div",12)(18,"div",13)(19,"p-button",14),e.NdJ("click",function(n){return o.toggleLeftSide(n)}),e.qZA()(),e.TgZ(20,"div",15),e._UZ(21,"p-autoComplete",16),e.qZA(),e.TgZ(22,"div",17),e._UZ(23,"p-avatar",18),e.qZA()(),e.TgZ(24,"div",19)(25,"div",20),e._UZ(26,"router-outlet"),e.qZA()()()()),2&r&&(e.xp6(2),e.Q6J("ngClass",e.VKq(8,R,!o.showLeftSideNav)),e.xp6(7),e.Q6J("ngForOf",o.routes),e.xp6(5),e.Akn(e.DdM(10,O)),e.xp6(5),e.Q6J("outlined",!0),e.xp6(2),e.Q6J("suggestions",e.DdM(11,B)),e.xp6(2),e.Akn(e.DdM(12,O)))},dependencies:[f.mk,f.sg,Y.q,c.zx,g.lC,g.rH,D.lM,k.FN,U.Qc],styles:[".app-main-side[_ngcontent-%COMP%]{min-width:calc(100vw - 200px)}"]})}return i})(),M=(()=>{class i{static#e=this.\u0275fac=function(r){return new(r||i)};static#t=this.\u0275cmp=e.Xpm({type:i,selectors:[["app-home"]],decls:2,vars:0,template:function(r,o){1&r&&(e.TgZ(0,"p"),e._uU(1,"home works!"),e.qZA())}})}return i})();var _=l(5619),E=l(2572),Z=l(3997),C=l(9947),a=l(95),p=l(5118),m=l(5238),u=l(5219),z=l(3965);let Q=(()=>{class i{constructor(t,r,o,s,n){this.dialogRef=t,this.dialogService=r,this.dialogConfig=o,this.dashboardService=s,this._snackBar=n,this.orderStatusOptions=[{name:"All",value:""},{name:"Created",value:"Created"},{name:"Shipped",value:"Shipped"},{name:"Delevered",value:"Delevered"},{name:"Payment Received",value:"Payment Received"}],this.filterOrderForm=new a.cw({orderStatus:new a.NI("")})}handleSubmit(t){this.dialogRef.close(this.filterOrderForm.getRawValue())}ngOnInit(){this.dialogConfig.data?.filterFormData&&(console.log("Filter Data",this.dialogConfig.data?.filterFormData),this.filterOrderForm.patchValue(this.dialogConfig.data?.filterFormData))}static#e=this.\u0275fac=function(r){return new(r||i)(e.Y36(p.E7),e.Y36(p.xA),e.Y36(p.S),e.Y36(m.s),e.Y36(u.ez))};static#t=this.\u0275cmp=e.Xpm({type:i,selectors:[["app-filters"]],decls:10,vars:2,consts:[[1,"filter-order-form","grid","formgrid","p-fluid",3,"formGroup","ngSubmit"],[1,"field","mb-4","col-12","lg:col-6"],["for","orderStatus",1,"font-medium"],["formControlName","orderStatus","placeholder","Order Status","optionLabel","name","optionValue","value",3,"options"],[1,"field","mb-4","col-12","flex","flex-row","flex-wrap"],["type","reset",1,"mr-2"],["type","submit",1,"ml-2"]],template:function(r,o){1&r&&(e.TgZ(0,"form",0),e.NdJ("ngSubmit",function(n){return o.handleSubmit(n)}),e.TgZ(1,"div",1)(2,"label",2),e._uU(3,"Orders Status"),e.qZA(),e._UZ(4,"p-dropdown",3),e.qZA(),e.TgZ(5,"div",4)(6,"p-button",5),e._uU(7,"Clear"),e.qZA(),e.TgZ(8,"p-button",6),e._uU(9,"Apply"),e.qZA()()()),2&r&&(e.Q6J("formGroup",o.filterOrderForm),e.xp6(4),e.Q6J("options",o.orderStatusOptions))},dependencies:[c.zx,z.Lt,a._Y,a.JJ,a.JL,a.sg,a.u]})}return i})();var x=l(6916),T=l(6340),A=l(1712),P=l(5801);function V(i,d){1&i&&(e.TgZ(0,"h3",8),e._uU(1,"List of Order"),e.qZA())}function j(i,d){if(1&i){const t=e.EpF();e.TgZ(0,"p-button",9),e.NdJ("click",function(o){e.CHM(t);const s=e.oxw();return e.KtG(s.applyFilter(o))}),e.qZA(),e._UZ(1,"p-button",10)}2&i&&(e.Q6J("text",!0)("rounded",!0),e.xp6(1),e.Q6J("text",!0)("rounded",!0))}function G(i,d){1&i&&(e.TgZ(0,"tr")(1,"th"),e._uU(2,"Id"),e.qZA(),e.TgZ(3,"th"),e._uU(4,"Customer Name"),e.qZA(),e.TgZ(5,"th"),e._uU(6,"Customer Mobile No"),e.qZA(),e.TgZ(7,"th"),e._uU(8,"Customer Address"),e.qZA(),e.TgZ(9,"th"),e._uU(10,"Order Total"),e.qZA(),e.TgZ(11,"th"),e._uU(12," Order Status "),e.qZA(),e.TgZ(13,"th"),e._uU(14,"Order Date"),e.qZA(),e.TgZ(15,"th"),e._uU(16,"No of Items"),e.qZA()())}function K(i,d){if(1&i&&(e.TgZ(0,"tr")(1,"td")(2,"a",11),e._uU(3),e.qZA()(),e.TgZ(4,"td"),e._uU(5),e.qZA(),e.TgZ(6,"td"),e._uU(7),e.qZA(),e.TgZ(8,"td"),e._uU(9),e.qZA(),e.TgZ(10,"td"),e._uU(11),e.ALo(12,"env"),e.qZA(),e.TgZ(13,"td"),e._uU(14),e.qZA(),e.TgZ(15,"td"),e._uU(16),e.ALo(17,"date"),e.qZA(),e.TgZ(18,"td"),e._uU(19),e.qZA()()),2&i){const t=d.$implicit;e.xp6(2),e.Q6J("routerLink",t.orderId+"/detail"),e.xp6(1),e.hij(" ",t.orderId,""),e.xp6(2),e.AsE("",null==t.customerId?null:t.customerId.firstName," ",null==t.customerId?null:t.customerId.lastName,""),e.xp6(2),e.Oqu(null==t.customerId?null:t.customerId.mobileNumber),e.xp6(2),e.Oqu(null==t.customerId?null:t.customerId.address),e.xp6(2),e.AsE("",e.lcZ(12,11,"constant.CURRENCY_SYMBOLS")," ",t.grandTotal,""),e.xp6(3),e.Oqu(t.orderStatus),e.xp6(2),e.Oqu(e.lcZ(17,13,t.createdDate)),e.xp6(3),e.Oqu(t.items.length)}}let H=(()=>{class i{constructor(t,r,o){this.dialog=t,this.dashboardService=r,this._snackBar=o,this.filterApplied=!1,this.filterFormData=new _.X({}),this.pageOption=C.N.config.recordPerPageOption,this.recordCount=0,this.isLoading=!1,this.pageConig=new _.X({pageIndex:0,pageSize:this.pageOption[0]}),this.orders=[],this.actionList=[{label:"Delail",command:s=>{console.log(s)}}],this.status=[{name:"New York",code:"NY"},{name:"Rome",code:"RM"},{name:"London",code:"LDN"},{name:"Istanbul",code:"IST"},{name:"Paris",code:"PRS"}]}ngOnInit(){(0,E.a)([this.pageConig.pipe((0,Z.x)()),this.filterFormData.pipe((0,Z.x)())]).subscribe(([t,r])=>{this.isLoading=!0,console.log("pageConfig",t),console.log("filterData",r),this.dashboardService.loadOrders(t,r).subscribe(o=>{this.orders=o[0],this.recordCount=parseInt(o[1]),this.isLoading=!1})})}handleTableAction(t,r){}handleAddOrder(){}applyFilter(t){this.filterCmpReference=this.dialog.open(Q,{width:"600px",height:"400px",maximizable:!1,header:"Apply Filter",data:{filterFormData:this.filterFormData.getValue()}}),this.filterCmpReference.onClose.subscribe(r=>{if(r){console.log("Closing applyt filyer");let o={};Object.keys(r)?.map(s=>{const n=r[s];n&&(o={...o,[s]:n})}),this.filterFormData.next(o)}})}handleOnFilter(t){console.log("Filter",t)}onPageChange(t){const{page:r,rows:o}=t,s={...this.pageConig.getValue(),pageIndex:r,pageSize:o};this.pageConig.next(s)}static#e=this.\u0275fac=function(r){return new(r||i)(e.Y36(p.xA),e.Y36(m.s),e.Y36(u.ez))};static#t=this.\u0275cmp=e.Xpm({type:i,selectors:[["app-orders"]],decls:9,vars:9,consts:[[1,"card"],["styleClass","mb-4 gap-2"],["pTemplate","left"],["pTemplate","right"],[3,"value","loading","paginator","rows","rowsPerPageOptions","totalRecords"],["pTemplate","header"],["pTemplate","body"],[3,"rows","totalRecords","rowsPerPageOptions","onPageChange"],[1,"m-0"],["type","button","icon","pi pi-filter","styleClass","p-button-text",1,"mr-2",3,"text","rounded","click"],["routerLink","add","type","button","icon","pi pi-plus","styleClass","p-button-text",1,"ml-2",3,"text","rounded"],[3,"routerLink"]],template:function(r,o){1&r&&(e.TgZ(0,"div",0)(1,"p-toolbar",1),e.YNc(2,V,2,0,"ng-template",2),e.YNc(3,j,2,4,"ng-template",3),e.qZA(),e.TgZ(4,"div",0)(5,"p-table",4),e.YNc(6,G,17,0,"ng-template",5),e.YNc(7,K,20,15,"ng-template",6),e.qZA(),e.TgZ(8,"p-paginator",7),e.NdJ("onPageChange",function(n){return o.onPageChange(n)}),e.qZA()()()),2&r&&(e.xp6(5),e.Q6J("value",o.orders)("loading",o.isLoading)("paginator",!1)("rows",o.pageOption[0])("rowsPerPageOptions",o.pageOption)("totalRecords",o.recordCount),e.xp6(3),e.Q6J("rows",o.pageOption[0])("totalRecords",o.recordCount)("rowsPerPageOptions",o.pageOption))},dependencies:[c.zx,u.jx,g.rH,x.iA,T.o,A.D,f.uU,P.L]})}return i})();var X=l(2198);const $=function(i){return{"border-bottom-1":i}};function W(i,d){if(1&i&&(e.TgZ(0,"li",31),e._UZ(1,"img",32),e.TgZ(2,"div",33)(3,"span",34),e._uU(4),e.qZA(),e.TgZ(5,"span",35),e._uU(6),e.ALo(7,"env"),e.qZA(),e.TgZ(8,"span",28),e._uU(9),e.qZA()(),e.TgZ(10,"span",36),e._uU(11),e.ALo(12,"env"),e.qZA()()),2&i){const t=d.$implicit;e.Q6J("ngClass",e.VKq(12,$,!d.last)),e.xp6(1),e.Q6J("src","/assets/products/pwcWallPlug.png",e.LSH),e.xp6(3),e.Oqu(t.productId.productName),e.xp6(2),e.AsE("Unit : ",e.lcZ(7,8,"constant.CURRENCY_SYMBOLS")," ",t.pricePerUnit,""),e.xp6(3),e.hij("Quantity ",t.quantity,""),e.xp6(2),e.AsE("",e.lcZ(12,10,"constant.CURRENCY_SYMBOLS")," ",t.cost,"")}}let ee=(()=>{class i{constructor(t,r){this.activedRoute=t,this.dashboard=r,this.orderDetail={},this.orderPath=[{label:"Created",command:o=>{this.onOrderStateChange(o)}},{label:"Shipped",command:o=>{this.onOrderStateChange(o)}},{label:"Delevered",command:o=>{this.onOrderStateChange(o)}},{label:"Payment Received",command:o=>{this.onOrderStateChange(o)}}],this.activeOrderPathIndex=0}ngOnInit(){this.activedRoute.paramMap.subscribe(t=>{const r=t.get("orderId")||"";this.dashboard.searchOrders(r).subscribe(o=>{this.orderDetail=o;const s=this.orderPath.map(n=>n.label)?.indexOf(o.orderStatus);this.activeOrderPathIndex=s})})}onOrderStateChange(t){this.dashboard.updateOrder(this.orderDetail.orderId,{orderStatus:t.item.label}).subscribe(r=>{const o=this.orderPath.map(s=>s.label)?.indexOf(t.item.label);this.activeOrderPathIndex=o,console.log("Data",r)})}handlePrint(t){this.dashboard.printOrder(this.orderDetail.orderId).subscribe(o=>{var h,s=new Blob([o],{type:"application/pdf"}),n=window.navigator.userAgent;n.indexOf("MSIE"),n.indexOf("Trident/"),n.indexOf("Edge/"),navigator.userAgent.toLowerCase().indexOf("firefox")>-1?((h=document.createElement("a")).href=URL.createObjectURL(s),h.download="order_"+this.orderDetail.orderId+".pdf",document.body.appendChild(h),h.click(),window.setTimeout(function(){URL.revokeObjectURL(h.href),document.body.removeChild(h)},0)):((h=document.createElement("a")).href=window.URL.createObjectURL(s),h.download="order_"+this.orderDetail.orderId+".pdf",h.click())})}static#e=this.\u0275fac=function(r){return new(r||i)(e.Y36(g.gz),e.Y36(m.s))};static#t=this.\u0275cmp=e.Xpm({type:i,selectors:[["app-order-detail"]],decls:62,vars:24,consts:[[1,"card","p-4","border-round","bg-white","surface-border","border-1"],[1,"font-bold","text-4xl","mb-4"],[1,"mt-0","mb-4","p-0"],[3,"model","readonly","activeIndex"],[1,"text-700","text-xl","mt-0","mb-4","p-0"],[2,"height","3px","background","linear-gradient(90deg, #2196F3 0%, rgba(33, 150, 243, 0) 50%)"],[1,"flex","flex-column","sm:flex-row","sm:align-items-center","sm:justify-content-between","py-5"],[1,"mb-3","sm:mb-0"],[1,"font-medium","text-xl","text-900","mr-2"],[1,"font-medium","text-xl","text-blue-500"],["label","Print","icon","pi pi-print","severity","secondary",1,"mr-2",3,"outlined","click"],["label","Print","icon","pi pi-print","severity","secondary",1,"ml-2",3,"outlined","click"],[1,"border-round","surface-border","border-1"],[1,"list-none","p-0","m-0"],["class","p-3 surface-border flex align-items-start sm:align-items-center",3,"ngClass",4,"ngFor","ngForOf"],[1,"flex","flex-wrap","mt-5","pb-3"],[1,"w-full","lg:w-6","pl-3"],[1,"font-medium","text-900"],[1,"flex","flex-column","text-900","mt-3","mb-5"],[1,"mb-1"],[1,"flex","align-items-center","mt-3"],[1,"w-full","lg:w-6","pl-3","lg:pl-0","lg:pr-3","flex","align-items-end","mt-5","lg:mt-0"],[1,"list-none","p-0","m-0","w-full"],[1,"mb-3"],[1,"flex","justify-content-between","mb-3"],[1,"text-900"],[1,"text-900","font-medium","text-lg"],[1,"flex","justify-content-between","border-top-1","surface-border","py-3"],[1,"text-900","font-medium"],[1,"text-900","font-bold","text-lg"],[1,"flex","flex-wrap","justify-content-between"],[1,"p-3","surface-border","flex","align-items-start","sm:align-items-center",3,"ngClass"],[1,"w-3rem","sm:w-8rem","flex-shrink-0","mr-3","shadow-0",3,"src"],[1,"flex","flex-column"],[1,"text-900","font-medium","text-xl","mb-2"],[1,"text-600","mb-3"],[1,"text-900","font-medium","text-lg","ml-auto"]],template:function(r,o){1&r&&(e.TgZ(0,"div")(1,"div",0)(2,"div",1),e._uU(3,"Order Detail \u{1f680}"),e.qZA(),e.TgZ(4,"div",2),e._UZ(5,"p-steps",3),e.qZA(),e.TgZ(6,"p",4),e._uU(7," Your order is on the way. It'll be shipped today. We'll inform you. "),e.qZA(),e._UZ(8,"div",5),e.TgZ(9,"div",6)(10,"div",7)(11,"span",8),e._uU(12,"Order number:"),e.qZA(),e.TgZ(13,"span",9),e._uU(14),e.qZA()(),e.TgZ(15,"div")(16,"p-button",10),e.NdJ("click",function(n){return o.handlePrint(n)}),e.qZA(),e.TgZ(17,"p-button",11),e.NdJ("click",function(n){return o.handlePrint(n)}),e.qZA()()(),e.TgZ(18,"div",12)(19,"ul",13),e.YNc(20,W,13,14,"li",14),e.qZA()(),e.TgZ(21,"div",15)(22,"div",16)(23,"span",17),e._uU(24,"Shipping Address"),e.qZA(),e.TgZ(25,"div",18)(26,"span",19),e._uU(27),e.qZA(),e.TgZ(28,"span",19),e._uU(29),e.qZA(),e.TgZ(30,"span",19),e._uU(31),e.qZA(),e.TgZ(32,"span"),e._uU(33),e.qZA()(),e.TgZ(34,"span",17),e._uU(35,"Payment"),e.qZA(),e.TgZ(36,"div",20),e._uU(37," COD "),e.qZA()(),e.TgZ(38,"div",21)(39,"ul",22)(40,"li",23)(41,"span",17),e._uU(42,"Summary"),e.qZA()(),e.TgZ(43,"li",24)(44,"span",25),e._uU(45,"Subtotal"),e.qZA(),e.TgZ(46,"span",26),e._uU(47),e.ALo(48,"env"),e.qZA()(),e.TgZ(49,"li",24)(50,"span",25),e._uU(51,"Tax"),e.qZA(),e.TgZ(52,"span",26),e._uU(53),e.ALo(54,"env"),e.qZA()(),e.TgZ(55,"li",27)(56,"span",28),e._uU(57,"Total"),e.qZA(),e.TgZ(58,"span",29),e._uU(59),e.ALo(60,"env"),e.qZA()()()()()(),e._UZ(61,"div",30),e.qZA()),2&r&&(e.xp6(5),e.Q6J("model",o.orderPath)("readonly",!1)("activeIndex",o.activeOrderPathIndex),e.xp6(9),e.Oqu(o.orderDetail.orderId),e.xp6(2),e.Q6J("outlined",!0),e.xp6(1),e.Q6J("outlined",!0),e.xp6(3),e.Q6J("ngForOf",o.orderDetail.items),e.xp6(7),e.AsE("",null==o.orderDetail.customerId?null:o.orderDetail.customerId.firstName," ",null==o.orderDetail.customerId?null:o.orderDetail.customerId.lastName,""),e.xp6(2),e.Oqu(null==o.orderDetail.customerId?null:o.orderDetail.customerId.address),e.xp6(2),e.hij("GST NO: ",null==o.orderDetail.customerId?null:o.orderDetail.customerId.gstNumber,""),e.xp6(2),e.Oqu(null==o.orderDetail.customerId?null:o.orderDetail.customerId.mobileNumber),e.xp6(14),e.AsE("",e.lcZ(48,18,"constant.CURRENCY_SYMBOLS")," ",o.orderDetail.totalBeforeTax,""),e.xp6(6),e.AsE("",e.lcZ(54,20,"constant.CURRENCY_SYMBOLS")," ",o.orderDetail.grandTotal-o.orderDetail.totalBeforeTax,""),e.xp6(6),e.AsE("",e.lcZ(60,22,"constant.CURRENCY_SYMBOLS")," ",o.orderDetail.grandTotal,""))},dependencies:[f.mk,f.sg,c.zx,X.R,P.L]})}return i})();var v=l(3714);let w=(()=>{class i{constructor(t,r,o,s,n){this.dialogRef=t,this.dialogService=r,this.dialogConfig=o,this.dashboardService=s,this._snackBar=n,this.editMode=!1,this.supplierForm=new a.cw({firstName:new a.NI(""),lastName:new a.NI(""),address:new a.NI(""),additionalInfo:new a.NI(""),gstNumber:new a.NI(""),mobileNumber:new a.NI(null)})}handleSubmit(t){if(this.supplierForm.valid){const r=this.supplierForm.getRawValue();this.editMode?this.dashboardService.updateSupplier(this.dialogConfig.data.supplierId,r).subscribe(o=>{console.log("Updated Products",o),this._snackBar.add({severity:"success",summary:"Success",detail:"Your Supplier has been updated"}),this.dialogRef.close()}):this.dashboardService.addSupplier(r).subscribe(o=>{console.log("Added Products",o),this._snackBar.add({severity:"success",summary:"Success",detail:"Your Supplier has been added"}),this.dialogRef.close()})}else this._snackBar.add({severity:"success",summary:"Success",detail:"Your Supplier is invalid"});console.log("Form has been submitted",this.supplierForm.getRawValue())}ngOnInit(){this.dialogConfig.data?(this.editMode=!0,this.supplierForm.patchValue(this.dialogConfig.data)):this.editMode=!1}static#e=this.\u0275fac=function(r){return new(r||i)(e.Y36(p.E7),e.Y36(p.xA),e.Y36(p.S),e.Y36(m.s),e.Y36(u.ez))};static#t=this.\u0275cmp=e.Xpm({type:i,selectors:[["app-add-supplier"]],decls:30,vars:1,consts:[[1,"add-edit-product","grid","formgrid","p-fluid",3,"formGroup","ngSubmit"],[1,"field","mb-4","col-12","lg:col-6"],["for","firstName",1,"font-medium"],["pInputText","","inputId","firstName","placeholder","First Name","formControlName","firstName","type","text"],["for","lastName",1,"font-medium"],["pInputText","","inputId","lastName","placeholder","Last Name","formControlName","lastName","type","text"],["for","mobileNumber",1,"font-medium"],["pInputText","","inputId","mobileNumber","placeholder","Mobile Number","formControlName","mobileNumber"],["for","gstNumber",1,"font-medium"],["pInputText","","inputId","gstNumber","placeholder","GST Number","formControlName","gstNumber"],[1,"field","mb-4","col-12"],["for","address",1,"font-medium"],["pInputText","","inputId","address","placeholder","Address","formControlName","address"],["for","additionalInfo",1,"font-medium"],["pInputText","","inputId","additionalInfo","placeholder","Additional Info","formControlName","additionalInfo"],[1,"field","mb-4","col-12","flex","flex-row","flex-wrap"],["type","reset",1,"mr-2"],["type","submit",1,"ml-2"]],template:function(r,o){1&r&&(e.TgZ(0,"form",0),e.NdJ("ngSubmit",function(n){return o.handleSubmit(n)}),e.TgZ(1,"div",1)(2,"label",2),e._uU(3,"First Name"),e.qZA(),e._UZ(4,"input",3),e.qZA(),e.TgZ(5,"div",1)(6,"label",4),e._uU(7,"Last Name"),e.qZA(),e._UZ(8,"input",5),e.qZA(),e.TgZ(9,"div",1)(10,"label",6),e._uU(11,"Mobile Number"),e.qZA(),e._UZ(12,"input",7),e.qZA(),e.TgZ(13,"div",1)(14,"label",8),e._uU(15,"GST Number"),e.qZA(),e._UZ(16,"input",9),e.qZA(),e.TgZ(17,"div",10)(18,"label",11),e._uU(19,"Address"),e.qZA(),e._UZ(20,"input",12),e.qZA(),e.TgZ(21,"div",10)(22,"label",13),e._uU(23,"Additional Info"),e.qZA(),e._UZ(24,"input",14),e.qZA(),e.TgZ(25,"div",15)(26,"p-button",16),e._uU(27,"Reset"),e.qZA(),e.TgZ(28,"p-button",17),e._uU(29,"Submit"),e.qZA()()()),2&r&&e.Q6J("formGroup",o.supplierForm)},dependencies:[c.zx,v.o,a._Y,a.Fj,a.JJ,a.JL,a.sg,a.u]})}return i})();function te(i,d){1&i&&(e.TgZ(0,"h4",8),e._uU(1,"List of Supplier"),e.qZA())}function oe(i,d){if(1&i){const t=e.EpF();e.TgZ(0,"p-button",9),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.handleAddSupplier())}),e.qZA()}}function re(i,d){1&i&&(e.TgZ(0,"tr")(1,"th"),e._uU(2,"Id"),e.qZA(),e.TgZ(3,"th"),e._uU(4,"Name"),e.qZA(),e.TgZ(5,"th"),e._uU(6,"Mobile No"),e.qZA(),e.TgZ(7,"th"),e._uU(8,"GST Number"),e.qZA(),e.TgZ(9,"th"),e._uU(10,"Address"),e.qZA(),e.TgZ(11,"th"),e._uU(12,"Action"),e.qZA()())}function ie(i,d){if(1&i){const t=e.EpF();e.TgZ(0,"tr")(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.qZA(),e.TgZ(7,"td"),e._uU(8),e.qZA(),e.TgZ(9,"td"),e._uU(10),e.qZA(),e.TgZ(11,"td")(12,"p-button",10),e.NdJ("click",function(){const s=e.CHM(t).$implicit,n=e.oxw();return e.KtG(n.handleTableAction(s,"Stock"))}),e.qZA(),e.TgZ(13,"p-button",11),e.NdJ("click",function(){const s=e.CHM(t).$implicit,n=e.oxw();return e.KtG(n.handleTableAction(s,"Edit"))}),e.qZA(),e.TgZ(14,"p-button",12),e.NdJ("click",function(){const s=e.CHM(t).$implicit,n=e.oxw();return e.KtG(n.handleTableAction(s,"Delete"))}),e.qZA()()()}if(2&i){const t=d.$implicit;e.xp6(2),e.Oqu(t.supplierId),e.xp6(2),e.AsE("",t.firstName," ",t.lastName,""),e.xp6(2),e.Oqu(t.mobileNumber),e.xp6(2),e.Oqu(t.gstNumber),e.xp6(2),e.Oqu(t.address)}}const ne=function(){return{"min-width":"50rem"}};let se=(()=>{class i{constructor(t,r,o){this.dialog=t,this.dashboardService=r,this._snackBar=o,this.pageOption=[2,5,10,25,50],this.recordCount=0,this.displayedColumns=["supplierId","name","mobileNumber","gstNumber","address","action"],this.pageConig=new _.X({pageIndex:0,pageSize:this.pageOption[0]}),this.suppliers=[]}ngOnInit(){this.pageConig.pipe((0,Z.x)()).subscribe(t=>{this.dashboardService.loadSuppliers(t).subscribe(r=>{this.suppliers=r[0],this.recordCount=r[1]})})}handleTableAction(t,r){"Edit"==r?this.dialog.open(w,{width:"600px",data:t,header:"Edit Product"}):"Delete"==r&&this.dashboardService.deleteSupplier(t.supplierId).subscribe(o=>{this._snackBar.add({severity:"success",summary:"Success",detail:"Your Suppiier has been deleted"})})}handleAddSupplier(){console.log("Add Product"),this.dialog.open(w,{width:"600px",maximizable:!0,header:"Add Supplier"})}onPageChange(t){const{page:r,pageCount:o}=t,s={...this.pageConig.getValue(),pageIndex:r,pageSize:o};this.pageConig.next(s)}static#e=this.\u0275fac=function(r){return new(r||i)(e.Y36(p.xA),e.Y36(m.s),e.Y36(u.ez))};static#t=this.\u0275cmp=e.Xpm({type:i,selectors:[["app-suppliers"]],decls:9,vars:6,consts:[[1,"card"],["styleClass","mb-4 gap-2"],["pTemplate","left"],["pTemplate","right"],[3,"value","tableStyle"],["pTemplate","header"],["pTemplate","body"],[3,"rows","totalRecords","rowsPerPageOptions","onPageChange"],[1,"m-0"],["type","button","icon","pi pi-plus","styleClass","p-button-text",3,"click"],["icon","pi pi-ellipsis-h",1,"mr-2",3,"click"],["icon","pi pi-pencil",1,"mr-2",3,"click"],["icon","pi pi-trash",1,"mr-2",3,"click"]],template:function(r,o){1&r&&(e.TgZ(0,"div",0)(1,"p-toolbar",1),e.YNc(2,te,2,0,"ng-template",2),e.YNc(3,oe,1,0,"ng-template",3),e.qZA(),e.TgZ(4,"div",0)(5,"p-table",4),e.YNc(6,re,13,0,"ng-template",5),e.YNc(7,ie,15,6,"ng-template",6),e.qZA(),e.TgZ(8,"p-paginator",7),e.NdJ("onPageChange",function(n){return o.onPageChange(n)}),e.qZA()()()),2&r&&(e.xp6(5),e.Q6J("value",o.suppliers)("tableStyle",e.DdM(5,ne)),e.xp6(3),e.Q6J("rows",o.pageOption[0])("totalRecords",o.recordCount)("rowsPerPageOptions",o.pageOption))},dependencies:[c.zx,u.jx,x.iA,T.o,A.D]})}return i})();var ae=l(8057);let I=(()=>{class i{constructor(t,r,o,s,n){this.dialogRef=t,this.dialogService=r,this.dialogConfig=o,this.dashboardService=s,this._snackBar=n,this.editMode=!1,this.productForm=new a.cw({productName:new a.NI(""),productCostPrice:new a.NI(null),productSellingPrice:new a.NI(null),productStock:new a.NI(null),isActive:new a.NI(!0)})}handleSubmit(t){if(this.productForm.valid){const r=this.productForm.getRawValue();this.editMode?this.dashboardService.updateProduct(this.dialogConfig.data.productId,r).subscribe(o=>{console.log("Updated Products",o),this._snackBar.add({severity:"success",summary:"Success",detail:"Your Product has been updated"}),this.dialogRef.close()}):this.dashboardService.addProduct(r).subscribe(o=>{console.log("Added Products",o),this._snackBar.add({severity:"success",summary:"Success",detail:"Your Product has been added"}),this.dialogRef.close()})}else this._snackBar.add({severity:"success",summary:"Success",detail:"Your Product is invalid"});console.log("Form has been submitted",this.productForm.getRawValue())}ngOnInit(){this.dialogConfig.data?(this.editMode=!0,this.productForm.patchValue(this.dialogConfig.data)):this.editMode=!1}static#e=this.\u0275fac=function(r){return new(r||i)(e.Y36(p.E7),e.Y36(p.xA),e.Y36(p.S),e.Y36(m.s),e.Y36(u.ez))};static#t=this.\u0275cmp=e.Xpm({type:i,selectors:[["app-add-product"]],decls:24,vars:2,consts:[[1,"add-edit-product","grid","formgrid","p-fluid",3,"formGroup","ngSubmit"],[1,"field","mb-4","col-12"],["for","productName",1,"font-medium"],["pInputText","","inputId","productName","placeholder","Product Name","formControlName","productName","type","text"],["for","productStock",1,"font-medium"],["pInputText","","inputId","productStock","placeholder","Product Stock","formControlName","productStock"],["for","productCostPrice",1,"font-medium"],["pInputText","","inputId","productCostPrice","placeholder","Product Cost Price","formControlName","productCostPrice"],["for","productSellingPrice",1,"font-medium"],["pInputText","","inputId","productSellingPrice","placeholder","Product Sellling Price","formControlName","productSellingPrice"],["formControlName","isActive","label","IsActive","inputId","isActive",3,"binary"],[1,"field","mb-4","col-12","flex","flex-row","flex-wrap"],["type","reset",1,"mr-2"],["type","submit",1,"ml-2"]],template:function(r,o){1&r&&(e.TgZ(0,"form",0),e.NdJ("ngSubmit",function(n){return o.handleSubmit(n)}),e.TgZ(1,"div",1)(2,"label",2),e._uU(3,"Product Name"),e.qZA(),e._UZ(4,"input",3),e.qZA(),e.TgZ(5,"div",1)(6,"label",4),e._uU(7,"Product Stock"),e.qZA(),e._UZ(8,"input",5),e.qZA(),e.TgZ(9,"div",1)(10,"label",6),e._uU(11,"Product Cost Price"),e.qZA(),e._UZ(12,"input",7),e.qZA(),e.TgZ(13,"div",1)(14,"label",8),e._uU(15,"Product Selling Price"),e.qZA(),e._UZ(16,"input",9),e.qZA(),e.TgZ(17,"div",1),e._UZ(18,"p-checkbox",10),e.qZA(),e.TgZ(19,"div",11)(20,"p-button",12),e._uU(21,"Reset"),e.qZA(),e.TgZ(22,"p-button",13),e._uU(23,"Submit"),e.qZA()()()),2&r&&(e.Q6J("formGroup",o.productForm),e.xp6(18),e.Q6J("binary",!0))},dependencies:[c.zx,ae.XZ,v.o,a._Y,a.Fj,a.JJ,a.JL,a.sg,a.u]})}return i})();function le(i,d){1&i&&(e.TgZ(0,"h4",8),e._uU(1,"List of Products"),e.qZA())}function de(i,d){if(1&i){const t=e.EpF();e.TgZ(0,"p-button",9),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.handleAddProduct())}),e.qZA()}}function pe(i,d){1&i&&(e.TgZ(0,"tr")(1,"th"),e._uU(2,"Id"),e.qZA(),e.TgZ(3,"th"),e._uU(4,"Name"),e.qZA(),e.TgZ(5,"th"),e._uU(6,"Stock"),e.qZA(),e.TgZ(7,"th"),e._uU(8,"Selling Price"),e.qZA(),e.TgZ(9,"th"),e._uU(10,"Cost Price"),e.qZA(),e.TgZ(11,"th"),e._uU(12,"IsActive"),e.qZA(),e.TgZ(13,"th"),e._uU(14,"Action"),e.qZA()())}function ue(i,d){if(1&i){const t=e.EpF();e.TgZ(0,"tr")(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.qZA(),e.TgZ(7,"td"),e._uU(8),e.qZA(),e.TgZ(9,"td"),e._uU(10),e.qZA(),e.TgZ(11,"td"),e._uU(12),e.qZA(),e.TgZ(13,"td")(14,"p-button",10),e.NdJ("click",function(){const s=e.CHM(t).$implicit,n=e.oxw();return e.KtG(n.handleProductAction(s,"Stock"))}),e.qZA(),e.TgZ(15,"p-button",11),e.NdJ("click",function(){const s=e.CHM(t).$implicit,n=e.oxw();return e.KtG(n.handleProductAction(s,"Edit"))}),e.qZA(),e.TgZ(16,"p-button",12),e.NdJ("click",function(){const s=e.CHM(t).$implicit,n=e.oxw();return e.KtG(n.handleProductAction(s,"Delete"))}),e.qZA()()()}if(2&i){const t=d.$implicit;e.xp6(2),e.Oqu(t.productId),e.xp6(2),e.Oqu(t.productName),e.xp6(2),e.Oqu(t.productStock),e.xp6(2),e.Oqu(t.productSellingPrice),e.xp6(2),e.Oqu(t.productCostPrice),e.xp6(2),e.Oqu(t.isActive)}}const ce=function(){return{"min-width":"50rem"}};let me=(()=>{class i{constructor(t,r,o){this.dialog=t,this.dashboardService=r,this._snackBar=o,this.pageOption=C.N.config.recordPerPageOption,this.recordCount=10,this.pageConig=new _.X({pageIndex:0,pageSize:this.pageOption[0]}),this.products=[]}ngOnInit(){this.pageConig.pipe((0,Z.x)()).subscribe(t=>{this.dashboardService.loadProducts(t).subscribe(r=>{this.products=r[0],this.recordCount=r[1]})})}handleAddProduct(){console.log("Add Product"),this.dialog.open(I,{width:"600px",maximizable:!0,header:"Add Product"})}handleProductAction(t,r){"Edit"==r?this.dialog.open(I,{width:"600px",data:t,header:"Edit Product"}):"Delete"==r&&this.dashboardService.deleteProduct(t.productId).subscribe(o=>{this._snackBar.add({severity:"success",summary:"Success",detail:"Your product has been deleted"})})}onPageChange(t){const{page:r,rows:o}=t,s={...this.pageConig.getValue(),pageIndex:r,pageSize:o};this.pageConig.next(s)}static#e=this.\u0275fac=function(r){return new(r||i)(e.Y36(p.xA),e.Y36(m.s),e.Y36(u.ez))};static#t=this.\u0275cmp=e.Xpm({type:i,selectors:[["app-products"]],decls:9,vars:6,consts:[[1,"card"],["styleClass","mb-4 gap-2"],["pTemplate","left"],["pTemplate","right"],[3,"value","tableStyle"],["pTemplate","header"],["pTemplate","body"],[3,"rows","totalRecords","rowsPerPageOptions","onPageChange"],[1,"m-0"],["type","button","icon","pi pi-plus","styleClass","p-button-text",3,"click"],["icon","pi pi-ellipsis-h",1,"mr-2",3,"click"],["icon","pi pi-pencil",1,"mr-2",3,"click"],["icon","pi pi-trash",1,"mr-2",3,"click"]],template:function(r,o){1&r&&(e.TgZ(0,"div",0)(1,"p-toolbar",1),e.YNc(2,le,2,0,"ng-template",2),e.YNc(3,de,1,0,"ng-template",3),e.qZA(),e.TgZ(4,"div",0)(5,"p-table",4),e.YNc(6,pe,15,0,"ng-template",5),e.YNc(7,ue,17,6,"ng-template",6),e.qZA(),e.TgZ(8,"p-paginator",7),e.NdJ("onPageChange",function(n){return o.onPageChange(n)}),e.qZA()()()),2&r&&(e.xp6(5),e.Q6J("value",o.products)("tableStyle",e.DdM(5,ce)),e.xp6(3),e.Q6J("rows",o.pageOption[0])("totalRecords",o.recordCount)("rowsPerPageOptions",o.pageOption))},dependencies:[c.zx,u.jx,x.iA,T.o,A.D]})}return i})(),q=(()=>{class i{constructor(t,r,o,s,n){this.dialogRef=t,this.dialogService=r,this.dialogConfig=o,this.dashboardService=s,this._snackBar=n,this.editMode=!1,this.customerForm=new a.cw({firstName:new a.NI(""),lastName:new a.NI(""),address:new a.NI(""),additionalInfo:new a.NI(""),gstNumber:new a.NI(""),mobileNumber:new a.NI(null)})}handleSubmit(t){if(this.customerForm.valid){const r=this.customerForm.getRawValue();this.editMode?this.dashboardService.updateCustomer(this.dialogConfig.data.customerId,r).subscribe(o=>{console.log("Updated Products",o),this._snackBar.add({severity:"success",summary:"Success",detail:"Your Customer has been updated"}),this.dialogRef.close(o)}):this.dashboardService.addCustomer(r).subscribe(o=>{console.log("Added Products",o),this._snackBar.add({severity:"success",summary:"Success",detail:"Your Customer has been added"}),this.dialogRef.close(o)})}else this._snackBar.add({severity:"success",summary:"Success",detail:"Your Customer is invalid"});console.log("Form has been submitted",this.customerForm.getRawValue())}ngOnInit(){this.dialogConfig.data?(this.editMode=!0,this.customerForm.patchValue(this.dialogConfig.data)):this.editMode=!1}static#e=this.\u0275fac=function(r){return new(r||i)(e.Y36(p.E7),e.Y36(p.xA),e.Y36(p.S),e.Y36(m.s),e.Y36(u.ez))};static#t=this.\u0275cmp=e.Xpm({type:i,selectors:[["app-add-customer"]],decls:30,vars:1,consts:[[1,"add-edit-product","grid","formgrid","p-fluid",3,"formGroup","ngSubmit"],[1,"field","mb-4","col-12","lg:col-6"],["for","firstName",1,"font-medium"],["pInputText","","inputId","firstName","placeholder","First Name","formControlName","firstName","type","text"],["for","lastName",1,"font-medium"],["pInputText","","inputId","lastName","placeholder","Last Name","formControlName","lastName","type","text"],["for","mobileNumber",1,"font-medium"],["pInputText","","inputId","mobileNumber","placeholder","Mobile Number","formControlName","mobileNumber"],["for","gstNumber",1,"font-medium"],["pInputText","","inputId","gstNumber","placeholder","GST Number","formControlName","gstNumber"],[1,"field","mb-4","col-12"],["for","address",1,"font-medium"],["pInputText","","inputId","address","placeholder","Address","formControlName","address"],["for","additionalInfo",1,"font-medium"],["pInputText","","inputId","additionalInfo","placeholder","Additional Info","formControlName","additionalInfo"],[1,"field","mb-4","col-12","flex","flex-row","flex-wrap"],["type","reset",1,"mr-2"],["type","submit",1,"ml-2"]],template:function(r,o){1&r&&(e.TgZ(0,"form",0),e.NdJ("ngSubmit",function(n){return o.handleSubmit(n)}),e.TgZ(1,"div",1)(2,"label",2),e._uU(3,"First Name"),e.qZA(),e._UZ(4,"input",3),e.qZA(),e.TgZ(5,"div",1)(6,"label",4),e._uU(7,"Last Name"),e.qZA(),e._UZ(8,"input",5),e.qZA(),e.TgZ(9,"div",1)(10,"label",6),e._uU(11,"Mobile Number"),e.qZA(),e._UZ(12,"input",7),e.qZA(),e.TgZ(13,"div",1)(14,"label",8),e._uU(15,"GST Number"),e.qZA(),e._UZ(16,"input",9),e.qZA(),e.TgZ(17,"div",10)(18,"label",11),e._uU(19,"Address"),e.qZA(),e._UZ(20,"input",12),e.qZA(),e.TgZ(21,"div",10)(22,"label",13),e._uU(23,"Additional Info"),e.qZA(),e._UZ(24,"input",14),e.qZA(),e.TgZ(25,"div",15)(26,"p-button",16),e._uU(27,"Reset"),e.qZA(),e.TgZ(28,"p-button",17),e._uU(29,"Submit"),e.qZA()()()),2&r&&e.Q6J("formGroup",o.customerForm)},dependencies:[c.zx,v.o,a._Y,a.Fj,a.JJ,a.JL,a.sg,a.u]})}return i})();var ge=l(3173);function he(i,d){1&i&&(e.TgZ(0,"h4",8),e._uU(1,"List of Customers"),e.qZA())}function fe(i,d){if(1&i){const t=e.EpF();e.TgZ(0,"p-button",9),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.handleAddCustomer())}),e.qZA()}2&i&&e.Q6J("text",!0)("rounded",!0)}function be(i,d){1&i&&(e.TgZ(0,"tr")(1,"th"),e._uU(2,"Id"),e.qZA(),e.TgZ(3,"th"),e._uU(4,"Name"),e.qZA(),e.TgZ(5,"th"),e._uU(6,"Mobile No"),e.qZA(),e.TgZ(7,"th"),e._uU(8,"GST Number"),e.qZA(),e.TgZ(9,"th"),e._uU(10,"Address"),e.qZA(),e.TgZ(11,"th"),e._uU(12,"Action"),e.qZA()())}function _e(i,d){if(1&i){const t=e.EpF();e.TgZ(0,"tr")(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.qZA(),e.TgZ(7,"td"),e._uU(8),e.qZA(),e.TgZ(9,"td"),e._uU(10),e.qZA(),e.TgZ(11,"td")(12,"p-splitButton",10),e.NdJ("onClick",function(){const s=e.CHM(t).$implicit,n=e.oxw();return e.KtG(n.handleTableAction(s,"Detail"))})("onDropdownClick",function(){const s=e.CHM(t).$implicit,n=e.oxw();return e.KtG(n.handleSelectCustomer(s))}),e.qZA()()()}if(2&i){const t=d.$implicit,r=e.oxw();e.xp6(2),e.Oqu(t.customerId),e.xp6(2),e.AsE("",t.firstName," ",t.lastName,""),e.xp6(2),e.Oqu(t.mobileNumber),e.xp6(2),e.Oqu(t.gstNumber),e.xp6(2),e.Oqu(t.address),e.xp6(2),e.Q6J("model",r.customerButtons)}}let Ze=(()=>{class i{constructor(t,r,o,s,n){this.router=t,this.activeRoute=r,this.dialog=o,this.dashboardService=s,this._snackBar=n,this.pageOption=C.N.config.recordPerPageOption,this.recordCount=10,this.isLoading=!1,this.pageConfig=new _.X({pageIndex:0,pageSize:C.N.config.recordPerPage}),this.customers=[],this.customerButtons=[{label:"Edit",icon:"pi pi-pencil",command:b=>{const{item:N}=b;this.handleTableAction(this.selectedCustomer,N.label)}},{label:"Delete",icon:"pi pi-trash",command:b=>{const{item:N}=b;this.handleTableAction(this.selectedCustomer,N.label)}}]}ngOnInit(){this.pageConfig.subscribe(t=>{this.isLoading=!0,this.dashboardService.loadCustomers(t).subscribe(r=>{this.customers=r[0],this.recordCount=r[1],this.isLoading=!1})})}handleAddCustomer(){console.log("Add Product"),this.dialog.open(q,{width:"600px",maximizable:!0,header:"Add Customer"})}handleTableAction(t,r){"Edit"==r?this.dialog.open(q,{width:"600px",data:t,header:"Edit Customer"}).onClose.subscribe(s=>{this.pageConfig.next({...this.pageConfig.getValue(),pageIndex:0})}):"Detail"==r?this.router.navigate([t.customerId,"detail"],{relativeTo:this.activeRoute}):"Delete"==r&&this.dashboardService.deleteCustomer(t.customerId).subscribe(o=>{this._snackBar.add({severity:"success",summary:"Success",detail:"Your custiomer has been deleted"})})}handleSelectCustomer(t){this.selectedCustomer=t}onPageChange(t){const{page:r,rows:o}=t,s={...this.pageConfig.getValue(),pageIndex:r,pageSize:o};this.pageConfig.next(s)}static#e=this.\u0275fac=function(r){return new(r||i)(e.Y36(g.F0),e.Y36(g.gz),e.Y36(p.xA),e.Y36(m.s),e.Y36(u.ez))};static#t=this.\u0275cmp=e.Xpm({type:i,selectors:[["app-customers"]],decls:10,vars:7,consts:[[1,"card"],["styleClass","mb-4 gap-2"],["pTemplate","left"],["pTemplate","right"],[3,"value","loading"],["pTemplate","header"],["pTemplate","body"],[3,"rows","totalRecords","rowsPerPageOptions","onPageChange"],[1,"m-0"],["type","button","icon","pi pi-plus","styleClass","p-button-text",3,"text","rounded","click"],["icon","pi pi-pencil","label","Detail","styleClass","p-button-outlined p-button-sm",3,"model","onClick","onDropdownClick"]],template:function(r,o){1&r&&(e.TgZ(0,"div",0)(1,"p-toolbar",1),e.YNc(2,he,2,0,"ng-template",2),e.YNc(3,fe,1,2,"ng-template",3),e.qZA(),e.TgZ(4,"div",0)(5,"p-table",4),e.YNc(6,be,13,0,"ng-template",5),e.YNc(7,_e,13,7,"ng-template",6),e.qZA(),e.TgZ(8,"p-paginator",7),e.NdJ("onPageChange",function(n){return o.onPageChange(n)}),e.ALo(9,"async"),e.qZA()()()),2&r&&(e.xp6(5),e.Q6J("value",o.customers)("loading",o.isLoading),e.xp6(3),e.Q6J("rows",e.lcZ(9,5,o.pageConfig).pageSize)("totalRecords",o.recordCount)("rowsPerPageOptions",o.pageOption))},dependencies:[ge.a,c.zx,u.jx,x.iA,T.o,A.D,f.Ov]})}return i})();var Ce=l(9653),S=l(4844),xe=l(4480),Te=l(4237),Ae=l(6022),ve=l(6263);function Se(i,d){if(1&i){const t=e.EpF();e.TgZ(0,"div",24)(1,"div",25)(2,"div",26)(3,"span",27),e._UZ(4,"i",28),e.TgZ(5,"span",29),e._uU(6),e.qZA()(),e._UZ(7,"p-tag",30),e.qZA(),e.TgZ(8,"div",31),e._UZ(9,"img",32),e.TgZ(10,"div",33),e._uU(11),e.qZA(),e._UZ(12,"p-rating",34),e.qZA(),e.TgZ(13,"div",35)(14,"span",36),e._uU(15),e.qZA(),e.TgZ(16,"button",37),e.NdJ("click",function(){const s=e.CHM(t).$implicit,n=e.oxw();return e.KtG(n.addProductToCart(s))}),e.qZA()()()()}if(2&i){const t=d.$implicit,r=e.oxw();e.xp6(6),e.Oqu(t.category),e.xp6(1),e.Q6J("value",t.inventoryStatus)("severity",r.getSeverity(t)),e.xp6(2),e.Q6J("src","/assets/products/"+t.image,e.LSH)("alt",t.name),e.xp6(2),e.Oqu(t.productName),e.xp6(1),e.Q6J("ngModel",t.rating)("readonly",!0)("cancel",!1),e.xp6(3),e.Oqu("\u20b9 "+t.productSellingPrice),e.xp6(1),e.Q6J("disabled","OUTOFSTOCK"===t.inventoryStatus)}}function Ne(i,d){if(1&i){const t=e.EpF();e.TgZ(0,"div",38)(1,"div",39),e._UZ(2,"img",40),e.TgZ(3,"div",41)(4,"div",42)(5,"div",43),e._uU(6),e.qZA(),e.TgZ(7,"div",44),e._UZ(8,"p-inputNumber",45),e.qZA()(),e.TgZ(9,"div",46)(10,"span",47),e._uU(11),e.qZA(),e.TgZ(12,"button",48),e.NdJ("click",function(){const s=e.CHM(t).rowIndex,n=e.oxw();return e.KtG(n.deleteItem(s))}),e.qZA()()()()()}if(2&i){const t=d.$implicit;e.Q6J("formGroupName",d.rowIndex),e.xp6(2),e.Q6J("src","/assets/products/"+t.image,e.LSH)("alt",t.name),e.xp6(4),e.Oqu(t.productName),e.xp6(2),e.Q6J("showButtons",!0),e.xp6(3),e.Oqu("\u20b9 "+t.productSellingPrice)}}const qe=function(i){return{"flex-column-reverse":i}},ye=[{path:"",component:L,children:[{path:"home",component:M},{path:"orders",component:H},{path:"orders/add",component:(()=>{class i{get items(){return this.orderForm.get("items")}get totalCost(){return this.orderForm.get("items")?.value?.reduce((t,r)=>t+r.productSellingPrice*r.quantity,0)||0}get grossTotalCost(){return this.totalCost*this.orderForm.get("taxPerctange")?.value/100+this.totalCost}deleteItem(t){this.cartProducts.splice(t,1),this.items.removeAt(t)}constructor(t,r,o,s){this.formBuilder=t,this.dialog=r,this.dashboardService=o,this._snackBar=s,this.products=[],this.cartProducts=[],this.suggestedCutomers=[],this.isDirectionReverse=!1,this.orderForm=this.formBuilder.group({customerSearchKey:this.formBuilder.control(null),customerId:this.formBuilder.control(null),taxPerctange:this.formBuilder.control(5),items:this.formBuilder.array([])})}ngOnInit(){this.dashboardService.loadProducts({pageIndex:0,pageSize:100}).subscribe(t=>{this.products=t[0]?.map(r=>({...r,image:"pwcWallPlug.png",inventoryStatus:"INSTOCK",category:"PWC",rating:4})),console.log("this.products ",this.products)})}getSeverity(t){switch(t.inventoryStatus){case"INSTOCK":return"success";case"LOWSTOCK":return"warning";case"OUTOFSTOCK":return"danger";default:return null}}addProductToCart(t){if(!this.cartProducts?.some(o=>o.productId==t.productId)){this.cartProducts=[...this.cartProducts,t];const{productId:o,productName:s,productSellingPrice:n}=t;this.items.push(this.formBuilder.group({productId:this.formBuilder.control(o),quantity:this.formBuilder.control(1),productName:this.formBuilder.control(s),productSellingPrice:this.formBuilder.control(n),pricePerUnit:this.formBuilder.control(n)}))}}handleSubmit(t){if(this.orderForm.valid){let r=this.orderForm.getRawValue();delete r.customerSearchKey,this.dashboardService.addOrder(r).subscribe(o=>{console.log("Added Order",o),this._snackBar.add({severity:"success",summary:"Success",detail:"Your Order has been placed"})})}else this._snackBar.add({severity:"error",summary:"Error",detail:"Your Order was not placed"});console.log("Form has been submitted",this.orderForm.getRawValue())}searchCustomers(t){this.dashboardService.searchCustomers(t.query).subscribe(r=>{console.log("Data",r),this.suggestedCutomers=r?.map(o=>({...o,suggetedKey:o.firstName+" "+o.lastName+" / "+o.mobileNumber}))})}handleSelectCustomer(t){console.log("Selected Customer",t);const{customerId:r}=t;this.orderForm.patchValue({customerId:r})}handleAddCustomer(t){this.dialog.open(q,{width:"600px",maximizable:!0,header:"Add Customer"}).onClose.subscribe(r=>{const{customerId:o}=r;o&&this.orderForm.patchValue({customerId:o,customerSearchKey:r})})}togglePosition(t){this.isDirectionReverse=!this.isDirectionReverse}static#e=this.\u0275fac=function(r){return new(r||i)(e.Y36(a.qu),e.Y36(p.xA),e.Y36(m.s),e.Y36(u.ez))};static#t=this.\u0275cmp=e.Xpm({type:i,selectors:[["app-add-order"]],decls:30,vars:12,consts:[[1,"lg:hidden","block","col-12"],["pButton","","label","Change",3,"click"],[1,"flex","flex-wrap","justify-content-between",3,"ngClass"],[1,"col-12","lg:col-8"],["header","PWC"],["layout","grid",3,"value"],["dv",""],["pTemplate","gridItem"],[1,"col-12","lg:col-4"],[3,"formGroup","ngSubmit"],[1,"add-customer"],[1,"p-inputgroup","mb-3"],["placeholder","Search Customer by Mobile No / Name","styleClass","w-full","formControlName","customerSearchKey","field","suggetedKey",3,"suggestions","dropdown","completeMethod","onSelect"],["type","button","pButton","","label","Add",1,"p-button-success",3,"click"],["formArrayName","items",1,"item-wrapper","mb-3"],["layout","list",1,"",3,"value"],["selectedProduct",""],["pTemplate","listItem"],[1,"add-order"],[1,"mb-3"],[1,"p-inputgroup"],["type","text","pInputText","","placeholder","TAX","formControlName","taxPerctange"],[1,"p-inputgroup-addon"],["pButton","","pRipple","","type","submit","label","Place Order",1,"p-button-success","mb-3"],[1,"col-12","sm:col-6","lg:col-12","xl:col-4","p-2"],[1,"p-4","border-1","surface-border","surface-card","border-round"],[1,"flex","flex-wrap","align-items-center","justify-content-between","gap-2"],[1,"flex","align-items-center","gap-2"],[1,"pi","pi-tag"],[1,"font-semibold"],[3,"value","severity"],[1,"flex","flex-column","align-items-center","gap-3","py-5"],[1,"w-9","shadow-0","border-round",3,"src","alt"],[1,"text-2xl","font-bold"],[3,"ngModel","readonly","cancel"],[1,"flex","align-items-center","justify-content-between"],[1,"text-2xl","font-semibold"],["pButton","","icon","pi pi-shopping-cart",1,"p-button-roundedX",3,"disabled","click"],[1,"col-12",3,"formGroupName"],[1,"flex","flex-row","xl:align-items-start","p-3","gap-3"],[1,"w-3","sm:w-8rem","xl:w-5rem","shadow-0","block","xl:block","mx-auto","border-round",3,"src","alt"],[1,"flex","flex-columnx","flex-row","sm:flex-rowx","justify-content-between","align-items-center","xl:align-items-start","flex-1","gap-4"],[1,"flex","flex-column","align-items-center","sm:align-items-start","gap-2"],[1,"text-lg","font-bold","text-900"],[1,"flex","align-items-center","gap-3"],["buttonLayout","horizontal","spinnerMode","horizontal","inputId","horizontal","placeholder","1","inputStyleClass","w-2rem text-center py-2 px-1 border-transparent border","incrementButtonIcon","pi pi-plus","decrementButtonIcon","pi pi-minus","formControlName","quantity",1,"border-1","surface-border","border-round",3,"showButtons"],[1,"flex","flex-column","align-items-center","sm:align-items-end","gap-3","sm:gap-2"],[1,"text-lg","font-semibold"],["pButton","","type","button","icon","pi pi-trash",1,"md:align-self-end","mb-2","p-button-roundedx","p-button-small",3,"click"]],template:function(r,o){1&r&&(e.TgZ(0,"div",0)(1,"button",1),e.NdJ("click",function(n){return o.togglePosition(n)}),e.qZA()(),e.TgZ(2,"div",2)(3,"div",3)(4,"p-tabView")(5,"p-tabPanel",4)(6,"p-dataView",5,6),e.YNc(8,Se,17,11,"ng-template",7),e.qZA()()()(),e.TgZ(9,"div",8)(10,"form",9),e.NdJ("ngSubmit",function(n){return o.handleSubmit(n)}),e.TgZ(11,"div",10)(12,"div",11)(13,"p-autoComplete",12),e.NdJ("completeMethod",function(n){return o.searchCustomers(n)})("onSelect",function(n){return o.handleSelectCustomer(n)}),e.qZA(),e.TgZ(14,"button",13),e.NdJ("click",function(n){return o.handleAddCustomer(n)}),e.qZA()()(),e.TgZ(15,"div",14)(16,"p-dataView",15,16),e.YNc(18,Ne,13,6,"ng-template",17),e.qZA()(),e.TgZ(19,"div",18)(20,"p"),e._uU(21),e.qZA(),e.TgZ(22,"div",19)(23,"div",20),e._UZ(24,"input",21),e.TgZ(25,"span",22),e._uU(26,"%"),e.qZA()()(),e.TgZ(27,"p"),e._uU(28),e.qZA(),e._UZ(29,"button",23),e.qZA()()()()),2&r&&(e.xp6(2),e.Q6J("ngClass",e.VKq(10,qe,o.isDirectionReverse)),e.xp6(4),e.Q6J("value",o.products),e.xp6(4),e.Q6J("formGroup",o.orderForm),e.xp6(3),e.Q6J("suggestions",o.suggestedCutomers)("dropdown",!1),e.xp6(3),e.Q6J("value",o.cartProducts),e.xp6(5),e.hij("Total : ",o.totalCost,""),e.xp6(7),e.hij("Gross Total : ",o.grossTotalCost,""),e.xp6(1),e.Akn("width:100%"))},dependencies:[f.mk,c.Hq,u.jx,v.o,Ce.Rn,a._Y,a.Fj,a.JJ,a.JL,a.On,S.xf,S.x4,xe.H,Te.VO,Ae.iG,ve.V,U.Qc,a.sg,a.u,a.x0,a.CE]})}return i})()},{path:"orders/:orderId/detail",component:ee},{path:"suppliers",component:se},{path:"products",component:me},{path:"customers",component:Ze},{path:"customers/:customerId/detail",component:(()=>{class i{ngOnInit(){}constructor(t,r,o){this.router=t,this.activatedRoute=r,this.dashboard=o,this.customerOrders=[],this.numberOfOrders=0,this.activatedRoute.paramMap.subscribe(s=>{const n=s.get("customerId")||"";this.dashboard.loadCustomerById(n).subscribe(b=>{this.customerOverView=b}),this.dashboard.loadOrdersForCustomerById(n,{pageIndex:0,pageSize:100}).subscribe(b=>{this.customerOrders=b[0],this.numberOfOrders=b[1]})})}static#e=this.\u0275fac=function(r){return new(r||i)(e.Y36(g.F0),e.Y36(g.gz),e.Y36(m.s))};static#t=this.\u0275cmp=e.Xpm({type:i,selectors:[["app-customer-detail"]],decls:15,vars:6,consts:[[1,"card","p-4","border-round","bg-white","surface-border","border-1"],[1,"font-bold","text-4xl","mb-4"],["header","Overview"],["header","Orders"],[1,"flex","flex-wrap","justify-content-between"]],template:function(r,o){1&r&&(e.TgZ(0,"div")(1,"div",0)(2,"div",1),e._uU(3,"Customer Detail \u{1f680}"),e.qZA(),e.TgZ(4,"div")(5,"p-tabView")(6,"p-tabPanel",2)(7,"pre"),e._uU(8),e.ALo(9,"json"),e.qZA()(),e.TgZ(10,"p-tabPanel",3)(11,"pre"),e._uU(12),e.ALo(13,"json"),e.qZA()()()()(),e._UZ(14,"div",4),e.qZA()),2&r&&(e.xp6(8),e.hij("                        ",e.lcZ(9,2,o.customerOverView),"\n                    "),e.xp6(4),e.hij("                        ",e.lcZ(13,4,o.customerOrders),"\n                    "))},dependencies:[S.xf,S.x4,f.Ts]})}return i})()}]}];let Ue=(()=>{class i{static#e=this.\u0275fac=function(r){return new(r||i)};static#t=this.\u0275mod=e.oAB({type:i});static#o=this.\u0275inj=e.cJS({imports:[g.Bz.forChild(ye),g.Bz]})}return i})();var Oe=l(6208);let Pe=(()=>{class i{static#e=this.\u0275fac=function(r){return new(r||i)};static#t=this.\u0275mod=e.oAB({type:i});static#o=this.\u0275inj=e.cJS({imports:[f.ez,F.f,Oe.m,Ue]})}return i})()}}]);